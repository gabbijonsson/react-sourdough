(this["webpackJsonpreact-sourdoughtracker"]=this["webpackJsonpreact-sourdoughtracker"]||[]).push([[0],{24:function(e,t,n){e.exports=n.p+"static/media/Masonjar.3368e71c.png"},27:function(e,t,n){e.exports=n(62)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),l=(n(32),n(2)),o=(n(33),n(5)),u=n(24),s=n.n(u);n(34);var m=function(){return r.a.createElement("div",{className:"landingpage__container"},r.a.createElement("img",{className:"landingpage__logo",src:s.a,alt:"Masonjar with text"}),r.a.createElement(o.b,{to:"/new"},r.a.createElement("button",{className:"landingpage__createbtn squarebutton"},"Create Bread")),r.a.createElement("div",{className:"landingpage__p-wrapper"},r.a.createElement("p",{className:"landingpage__started"},r.a.createElement(o.b,{to:"/started"},"Ongoing recipes")),r.a.createElement("p",{className:"landingpage__pipe"},"|"),r.a.createElement("p",{className:"landingpage__recipebank"},r.a.createElement(o.b,{to:"/recipebank"},"Recipebank")),r.a.createElement("p",{className:"landingpage__flours"},r.a.createElement(o.b,{to:"/flours"},"Flours"))))},d=n(3),p=n(26);n(55);var f=function(){return r.a.createElement(p.bubble,{width:"350px"},r.a.createElement(o.b,{to:"/",id:"home",className:"menu-item"},"Home"),r.a.createElement(o.b,{to:"/started",id:"started",className:"menu-item"},"Ongoing"),r.a.createElement(o.b,{to:"/recipebank",id:"recipebank",className:"menu-item"},"Recipebank"),r.a.createElement(o.b,{to:"/flours",id:"flours",className:"menu-item"},"Flours"))},b=(n(56),n(1)),E=function(){var e=localStorage.getItem("flours");return e?JSON.parse(e):[]},g=function(e){localStorage.setItem("flours",JSON.stringify(e))},_=function(){var e=localStorage.getItem("recipes");return e?JSON.parse(e):[]},v=function(e){localStorage.setItem("recipes",JSON.stringify(e))},h={updateRecipe:function(e,t,n,a){var r=_(),i=r.find((function(t){return t.recipeid===e}));i.rating=t,i.notes=n,i.finalized=a,v(r)},deleteRecipe:function(e){var t=_().filter((function(t){return t.recipeid!==e}));v(t)},saveRecipe:function(e,t){var n={recipeid:e,ingredients:t},a=_();a.push(n),localStorage.setItem("recipes",JSON.stringify(a))},getNextId:function(){var e=_().map((function(e){return Number(e.recipeid)}));return e.length>0?Math.max.apply(Math,Object(b.a)(e))+1:1},deleteFlour:function(e){var t=E().filter((function(t){return t.name!==e.name}));g(t)},addFlour:function(e){var t=E();t.push(e),g(t)},getFlours:E,getRecipe:function(e){return _().find((function(t){return t.recipeid===e}))},getRecipes:_,getUnfinishedRecipes:function(){return _().filter((function(e){return!e.finalized}))},getFinishedRecipes:function(){return _().filter((function(e){return e.finalized}))}};var N=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1];function c(){var e=[];return n.forEach((function(t){e.push(r.a.createElement("li",{className:"ongoingpage__recipe-row",key:t.recipeid},r.a.createElement(o.b,{to:"/submit?recipeid=".concat(t.recipeid)},r.a.createElement("h2",null,t.recipeid)),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t.recipeid,h.deleteRecipe(Number(e)),void i(n.filter((function(t){return t.recipeid!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}return Object(a.useEffect)((function(){var e=h.getUnfinishedRecipes();i(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"ongoingpage__container"},r.a.createElement("h1",null,"Ongoing recipes"),void 0!==n&&n.length>=0?c():(console.log(n),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Ooops...! Seems like you don't have any started doughs."),r.a.createElement(o.b,{to:"/new",className:"ongoingpage__link"},r.a.createElement("button",{className:"ongoingpage__createbtn squarebutton"},"Create Bread"))))))},O=(n(57),n(14));var w=function(){var e=Object(l.f)(),t=Object(O.a)(),n=t.register,i=t.errors,c=t.handleSubmit,o=Object(a.useState)(1),u=Object(d.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(!1),E=Object(d.a)(p,2),g=E[0],_=E[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),w=N[0],S=N[1];function k(e){var t=w.filter((function(t){return t.type===e})).reduce((function(e,t){return t.amount?e+t.amount:e}),0);return isNaN(t)?0:t}return Object(a.useEffect)((function(){m(h.getNextId())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("h2",{className:"newbread__breadid"},"RECIPE ID: ",s),r.a.createElement("div",{className:"newbread__container"},r.a.createElement("h1",{className:"newbread__recipetitle"},"RECIPE"),r.a.createElement("form",{onSubmit:c((function(e,t){var n=e.ingredient.split("_"),a={name:n[1],type:n[0]};S(Object(b.a)(w).concat([a]))}))},r.a.createElement("p",{className:"newbread__error"},i.ingredient&&"Ingredient already exist!"),r.a.createElement("select",{id:"ingredient",name:"ingredient",ref:n({required:!0,validate:function(e){return!w.some((function(t){return e.includes(t.name)}))}})},r.a.createElement("option",{disabled:!0},"--- FLOURS ---"),function(){var e=h.getFlours();return e.map((function(t){return r.a.createElement("option",{key:e.indexOf(t),value:"flour_"+t.name},t.name)}))}(),r.a.createElement("option",{disabled:!0},"--- LIQUIDS ---"),r.a.createElement("option",{value:"liquid_Water"},"Water"),r.a.createElement("option",{value:"liquid_Milk"},"Milk"),r.a.createElement("option",null,"Olive Oil"),r.a.createElement("option",{disabled:!0},"--- OTHERS ---"),r.a.createElement("option",{value:"starter_Starter"},"Starter"),r.a.createElement("option",{value:"other_Salt"},"Salt"),r.a.createElement("option",{value:"other_Seeds"},"Seeds")),r.a.createElement("input",{id:"ingredient-submitbtn",className:"squarebutton",type:"submit",value:"ADD"})),r.a.createElement("p",{className:"newbread__hydration"},"Hydration: ",function(){var e=k("starter"),t=k("flour")+e/2,n=k("liquid")+e/2,a=Math.round(n/t*1e3)/10;return isNaN(a)?0:a}(),"%"),r.a.createElement("div",{className:"newbread__ingredientlist"},r.a.createElement("div",{className:"newbread__flours"},r.a.createElement("h2",{className:"newbread__ingredient-title"},"Ingredients")),r.a.createElement("div",{className:"newbread__grams"},r.a.createElement("h2",{className:"newbread__ingredient-title"},"Grams")),r.a.createElement("div",{className:"newbread__ingredient-list"},r.a.createElement("ul",null,w.map((function(e){return r.a.createElement("li",{className:"newbread__one-ingredient-row",key:e.name},r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return function(e){var t=w.filter((function(t){return t!==e}));S(t)}(e)}},"X"),r.a.createElement("p",null,e.name),r.a.createElement("input",{className:"newbread__one-ingredient-row__grams",ingredienttype:e.type,type:"number",onChange:function(t){return function(e,t){e.amount=Number(t.target.value?t.target.value:0),_(!g)}(e,t)}}))}))))),r.a.createElement("button",{className:"createbread__continue squarebutton",onClick:function(){h.saveRecipe(s,w),e.push("/submit?recipeid="+s)}},"Continue")))},S=(n(59),function(e,t){return t.includes(e)?((t=t.substring(t.indexOf(e)+e.length+1)).includes("&")&&(t=t.substring(0,t.indexOf("&"))),t):null});var k=function(e){var t=S("recipeid",e.location.search);t||(t="---");var n=Object(l.f)(),i=Object(O.a)(),c=i.register,o=i.handleSubmit,u=Object(a.useState)(""),s=Object(d.a)(u,2),m=s[0],p=s[1];Object(a.useEffect)((function(){if(!isNaN(t)){var e=h.getRecipe(Number(t));console.log("recipe",e),e&&p(e.notes)}}),[t]);var b=function(e){console.log("submit",e),E(e.rating,e.notes,!0),n.push("/recipebank")},E=function(e,n,a){isNaN(t)||h.updateRecipe(Number(t),e,n,a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("h2",{className:"newbread__breadid"},"RECIPE ID: ",t),r.a.createElement("form",{className:"submitbread__container",onSubmit:o(b)},r.a.createElement("h1",{className:"submitbread__title"},"SUBMIT RECIPE"),r.a.createElement("select",{id:"rating",name:"rating",ref:c()},r.a.createElement("option",{value:"",selected:"selected",disabled:!0},"-- Rating --"),r.a.createElement("option",{value:"1"},"1 - It went in the trash..."),r.a.createElement("option",{value:"2"},"2 - Not my best work."),r.a.createElement("option",{value:"3"},"3 - I'd eat it again."),r.a.createElement("option",{value:"4"},"4 - Pretty good!"),r.a.createElement("option",{value:"5"},"5 - Fantastic!!")),r.a.createElement("p",{className:"submitbread__ratetext"},"Rate the result of this recipe."),r.a.createElement("h1",{className:"submitbread__title"},"NOTES"),r.a.createElement("textarea",{id:"notes",name:"notes",ref:c(),placeholder:"...",defaultValue:m}),r.a.createElement("button",{className:"submitbread__continue squarebutton",onClick:o(b)},"Submit"),r.a.createElement("button",{className:"createbread__store squarebutton",onClick:o((function(e){console.log("store",e),E(e.rating,e.notes,!1),n.push("/started")}))},"Store")))};var j=function(){return r.a.createElement("p",{className:"copyright__datestamp"},"\xa9 ",(new Date).getFullYear()," Jonssons")};n(60);var y=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){var e=h.getFinishedRecipes();i(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"recipebank__container"},r.a.createElement("h1",null,"Recipebank"),function(){var e=[];return n.forEach((function(t){e.push(r.a.createElement("li",{key:t.recipeid},r.a.createElement("h2",null,t.recipeid),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t.recipeid,h.deleteRecipe(Number(e)),void i(n.filter((function(t){return t.recipeid!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}()))};n(61);var R=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(O.a)(),l=c.register,o=c.errors,u=c.handleSubmit;return Object(a.useEffect)((function(){var e=h.getFlours();i(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"flourlist__wrapper"},r.a.createElement("h1",null,"Edit saved flours"),r.a.createElement("form",{id:"flourlist__form",onSubmit:u((function(e,t){console.log(e),h.addFlour(e),t.target.reset(),i(Object(b.a)(n).concat([e]))}))},o.name&&"Please enter a unique name.",r.a.createElement("label",{htmlFor:"flourname"},"Name of flour: "),r.a.createElement("input",{name:"name",id:"name",type:"text",placeholder:"Enter name...",ref:l({required:!0,validate:function(e){return!n.some((function(t){return t.name===e}))}})}),r.a.createElement("input",{type:"submit",className:"addflour-btn",value:"Add"})),r.a.createElement("h2",null,"Current list"),r.a.createElement("div",{className:"flourlist__listcontainer"},function(){var e=[];return n.forEach((function(t){e.push(r.a.createElement("li",{key:t.name+n.indexOf(t)},r.a.createElement("h3",null,t.name),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t,h.deleteFlour(e),void i(n.filter((function(t){return t!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}())))};var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:m}),r.a.createElement(l.a,{path:"/new",component:w}),r.a.createElement(l.a,{path:"/started",component:N}),r.a.createElement(l.a,{path:"/submit",component:k}),r.a.createElement(l.a,{path:"/recipebank",component:y}),r.a.createElement(l.a,{path:"/flours",component:R})),r.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.e7fdc649.chunk.js.map