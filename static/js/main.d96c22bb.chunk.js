(this["webpackJsonpreact-sourdoughtracker"]=this["webpackJsonpreact-sourdoughtracker"]||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/Masonjar.3368e71c.png"},27:function(e,t,a){e.exports=a(62)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),i=(a(32),a(2)),o=(a(33),a(5)),u=a(24),s=a.n(u);a(34);var m=function(){return r.a.createElement("div",{className:"landingpage__container"},r.a.createElement("img",{className:"landingpage__logo",src:s.a,alt:"Masonjar with text"}),r.a.createElement(o.b,{to:"/new"},r.a.createElement("button",{className:"landingpage__createbtn squarebutton"},"Create Bread")),r.a.createElement("div",{className:"landingpage__p-wrapper"},r.a.createElement("p",{className:"landingpage__started"},r.a.createElement(o.b,{to:"/started"},"Ongoing recipes")),r.a.createElement("p",{className:"landingpage__pipe"},"|"),r.a.createElement("p",{className:"landingpage__recipebank"},r.a.createElement(o.b,{to:"/recipebank"},"Recipebank")),r.a.createElement("p",{className:"landingpage__flours"},r.a.createElement(o.b,{to:"/flours"},"Flours"))))},d=a(3),p=a(26);a(55);var f=function(){return r.a.createElement(p.bubble,{width:"350px"},r.a.createElement(o.b,{to:"/",id:"home",className:"menu-item"},"Home"),r.a.createElement(o.b,{to:"/started",id:"started",className:"menu-item"},"Ongoing"),r.a.createElement(o.b,{to:"/recipebank",id:"recipebank",className:"menu-item"},"Recipebank"),r.a.createElement(o.b,{to:"/flours",id:"flours",className:"menu-item"},"Flours"))},E=(a(56),a(1)),b=function(){var e=localStorage.getItem("flours");return e?JSON.parse(e):[]},g=function(e){localStorage.setItem("flours",JSON.stringify(e))},_=function(){var e=localStorage.getItem("recipes");return e?JSON.parse(e):[]},v=function(e){localStorage.setItem("recipes",JSON.stringify(e))},h={updateRecipe:function(e,t,a,n){var r=_(),l=r.find((function(t){return t.recipeid===e}));l.rating=t,l.notes=a,l.finalized=n,v(r)},deleteRecipe:function(e){var t=_().filter((function(t){return t.recipeid!==e}));v(t)},saveRecipe:function(e,t){var a={recipeid:e,ingredients:t},n=_();n.push(a),localStorage.setItem("recipes",JSON.stringify(n))},getNextId:function(){var e=_().map((function(e){return Number(e.recipeid)}));return e.length>0?Math.max.apply(Math,Object(E.a)(e))+1:1},deleteFlour:function(e){var t=b().filter((function(t){return t.name!==e.name}));g(t)},addFlour:function(e){var t=b();t.push(e),g(t)},getFlours:b,getRecipe:function(e){return _().find((function(t){return t.recipeid===e}))},getRecipes:_,getUnfinishedRecipes:function(){return _().filter((function(e){return!e.finalized}))},getFinishedRecipes:function(){return _().filter((function(e){return e.finalized}))}};var N=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];function c(){var e=[];return a.forEach((function(t){e.push(r.a.createElement("li",{className:"ongoingpage__recipe-row",key:t.recipeid},r.a.createElement(o.b,{to:"/submit?recipeid=".concat(t.recipeid)},r.a.createElement("h2",null,t.recipeid)),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t.recipeid,h.deleteRecipe(Number(e)),void l(a.filter((function(t){return t.recipeid!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}return Object(n.useEffect)((function(){var e=h.getUnfinishedRecipes();l(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"ongoingpage__container"},r.a.createElement("h1",null,"Ongoing recipes"),void 0!==a&&a.length>=0?c():(console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Ooops...! Seems like you don't have any started doughs."),r.a.createElement(o.b,{to:"/new",className:"ongoingpage__link"},r.a.createElement("button",{className:"ongoingpage__createbtn squarebutton"},"Create Bread"))))))},w=(a(57),a(14));var O=function(){var e=Object(i.f)(),t=Object(w.a)(),a=t.register,l=t.errors,c=t.handleSubmit,o=Object(n.useState)(1),u=Object(d.a)(o,2),s=u[0],m=u[1],p=Object(n.useState)(!1),b=Object(d.a)(p,2),g=b[0],_=b[1],v=Object(n.useState)([]),N=Object(d.a)(v,2),O=N[0],S=N[1];function k(e){var t=O.filter((function(t){return t.type===e})).reduce((function(e,t){return t.amount?e+t.amount:e}),0);return isNaN(t)?0:t}return Object(n.useEffect)((function(){m(h.getNextId())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("h2",{className:"newbread__breadid"},"RECIPE ID: ",s),r.a.createElement("div",{className:"newbread__container"},r.a.createElement("h1",{className:"newbread__recipetitle"},"RECIPE"),r.a.createElement("form",{onSubmit:c((function(e,t){var a=e.ingredient.split("_"),n={name:a[1],type:a[0]};S(Object(E.a)(O).concat([n]))}))},r.a.createElement("p",{className:"newbread__error"},l.ingredient&&"Ingredient already exist!"),r.a.createElement("select",{id:"ingredient",name:"ingredient",ref:a({required:!0,validate:function(e){return!O.some((function(t){return e.includes(t.name)}))}})},r.a.createElement("option",{disabled:!0},"--- FLOURS ---"),function(){var e=h.getFlours();return e.map((function(t){return r.a.createElement("option",{key:e.indexOf(t),value:"flour_"+t.name},t.name)}))}(),r.a.createElement("option",{disabled:!0},"--- LIQUIDS ---"),r.a.createElement("option",{value:"liquid_Water"},"Water"),r.a.createElement("option",{value:"liquid_Milk"},"Milk"),r.a.createElement("option",null,"Olive Oil"),r.a.createElement("option",{disabled:!0},"--- OTHERS ---"),r.a.createElement("option",{value:"starter_Starter"},"Starter"),r.a.createElement("option",{value:"other_Salt"},"Salt"),r.a.createElement("option",{value:"other_Seeds"},"Seeds")),r.a.createElement("input",{id:"ingredient-submitbtn",className:"squarebutton",type:"submit",value:"ADD"})),r.a.createElement("p",{className:"newbread__hydration"},"Hydration: ",function(){var e=k("starter"),t=k("flour")+e/2,a=k("liquid")+e/2,n=Math.round(a/t*1e3)/10;return isNaN(n)?0:n}(),"%"),r.a.createElement("div",{className:"newbread__ingredientlist"},r.a.createElement("div",{className:"newbread__flours"},r.a.createElement("h2",{className:"newbread__ingredient-title"},"Ingredients")),r.a.createElement("div",{className:"newbread__grams"},r.a.createElement("h2",{className:"newbread__ingredient-title"},"Grams")),r.a.createElement("div",{className:"newbread__ingredient-list"},r.a.createElement("ul",null,O.map((function(e){return r.a.createElement("li",{className:"newbread__one-ingredient-row",key:e.name},r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return function(e){var t=O.filter((function(t){return t!==e}));S(t)}(e)}},"X"),r.a.createElement("p",null,e.name),r.a.createElement("input",{className:"newbread__one-ingredient-row__grams",ingredienttype:e.type,type:"number",onChange:function(t){return function(e,t){e.amount=Number(t.target.value?t.target.value:0),_(!g)}(e,t)}}))}))))),r.a.createElement("button",{className:"createbread__continue squarebutton",onClick:function(){h.saveRecipe(s,O),e.push("/submit?recipeid="+s)}},"Continue")))};a(59);var S=function(e){var t;console.log("props1",e),t||(t="---");var a=Object(i.f)(),l=Object(w.a)(),c=l.register,o=l.handleSubmit,u=Object(n.useState)(""),s=Object(d.a)(u,2),m=s[0],p=s[1];Object(n.useEffect)((function(){if(console.log("props2",e),!isNaN(t)){var a=h.getRecipe(Number(t));console.log("recipe",a),a&&p(a.notes)}}),[e,t]);var E=function(e){console.log("submit",e),b(e.rating,e.notes,!0),a.push("/recipebank")},b=function(e,a,n){isNaN(t)||h.updateRecipe(Number(t),e,a,n)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("h2",{className:"newbread__breadid"},"RECIPE ID: ",t),r.a.createElement("form",{className:"submitbread__container",onSubmit:o(E)},r.a.createElement("h1",{className:"submitbread__title"},"SUBMIT RECIPE"),r.a.createElement("select",{id:"rating",name:"rating",ref:c()},r.a.createElement("option",{value:"",selected:"selected",disabled:!0},"-- Rating --"),r.a.createElement("option",{value:"1"},"1 - It went in the trash..."),r.a.createElement("option",{value:"2"},"2 - Not my best work."),r.a.createElement("option",{value:"3"},"3 - I'd eat it again."),r.a.createElement("option",{value:"4"},"4 - Pretty good!"),r.a.createElement("option",{value:"5"},"5 - Fantastic!!")),r.a.createElement("p",{className:"submitbread__ratetext"},"Rate the result of this recipe."),r.a.createElement("h1",{className:"submitbread__title"},"NOTES"),r.a.createElement("textarea",{id:"notes",name:"notes",ref:c(),placeholder:"...",defaultValue:m}),r.a.createElement("button",{className:"submitbread__continue squarebutton",onClick:o(E)},"Submit"),r.a.createElement("button",{className:"createbread__store squarebutton",onClick:o((function(e){console.log("store",e),b(e.rating,e.notes,!1),a.push("/started")}))},"Store")))};var k=function(){return r.a.createElement("p",{className:"copyright__datestamp"},"\xa9 ",(new Date).getFullYear()," Jonssons")};a(60);var j=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=h.getFinishedRecipes();l(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"recipebank__container"},r.a.createElement("h1",null,"Recipebank"),function(){var e=[];return a.forEach((function(t){e.push(r.a.createElement("li",{key:t.recipeid},r.a.createElement("h2",null,t.recipeid),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t.recipeid,h.deleteRecipe(Number(e)),void l(a.filter((function(t){return t.recipeid!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}()))};a(61);var y=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(w.a)(),i=c.register,o=c.errors,u=c.handleSubmit;return Object(n.useEffect)((function(){var e=h.getFlours();l(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement("div",{className:"flourlist__wrapper"},r.a.createElement("h1",null,"Edit saved flours"),r.a.createElement("form",{id:"flourlist__form",onSubmit:u((function(e,t){console.log(e),h.addFlour(e),t.target.reset(),l(Object(E.a)(a).concat([e]))}))},o.name&&"Please enter a unique name.",r.a.createElement("label",{htmlFor:"flourname"},"Name of flour: "),r.a.createElement("input",{name:"name",id:"name",type:"text",placeholder:"Enter name...",ref:i({required:!0,validate:function(e){return!a.some((function(t){return t.name===e}))}})}),r.a.createElement("input",{type:"submit",className:"addflour-btn",value:"Add"})),r.a.createElement("h2",null,"Current list"),r.a.createElement("div",{className:"flourlist__listcontainer"},function(){var e=[];return a.forEach((function(t){e.push(r.a.createElement("li",{key:t.name+a.indexOf(t)},r.a.createElement("h3",null,t.name),r.a.createElement("button",{className:"newbread__one-ingredient-row__deletebtn",onClick:function(){return e=t,h.deleteFlour(e),void l(a.filter((function(t){return t!==e})));var e}},"X")))})),r.a.createElement("ul",null,e)}())))};var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{basename:"/react-sourdough"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/new"},r.a.createElement(O,null)),r.a.createElement(i.a,{path:"/started"},r.a.createElement(N,null)),r.a.createElement(i.a,{path:"/submit"},r.a.createElement(S,null)),r.a.createElement(i.a,{path:"/recipebank"},r.a.createElement(j,null)),r.a.createElement(i.a,{path:"/flours"},r.a.createElement(y,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement(m,null))),r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.d96c22bb.chunk.js.map